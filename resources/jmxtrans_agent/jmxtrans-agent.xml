<jmxtrans-agent>
  <queries>
    <!-- OS -->
    <query objectName="java.lang:type=OperatingSystem" attribute="SystemLoadAverage"
           resultAlias="os.systemLoadAverage"/>
    <query objectName="java.lang:type=OperatingSystem" attribute="FreePhysicalMemorySize" 
           resultAlias="os.systemFreeMemory"/>
    <query objectName="java.lang:type=OperatingSystem" attribute="TotalPhysicalMemorySize" 
           resultAlias="os.systemTotalMemory"/>
    <query objectName="java.lang:type=OperatingSystem" attribute="TotalSwapSpaceSize" 
           resultAlias="os.systemTotalSwap"/>
    <query objectName="java.lang:type=OperatingSystem" attribute="FreeSwapSpaceSize" 
           resultAlias="os.systemFreeSwap"/>

    <!-- JVM -->
    <query objectName="java.lang:type=Memory" attribute="HeapMemoryUsage" key="used"
           resultAlias="jvm.heapMemoryUsage.used"/>
    <query objectName="java.lang:type=Memory" attribute="HeapMemoryUsage" key="committed"
           resultAlias="jvm.heapMemoryUsage.committed"/>
    <query objectName="java.lang:type=Memory" attribute="NonHeapMemoryUsage" key="used"
           resultAlias="jvm.nonHeapMemoryUsage.used"/>
    <query objectName="java.lang:type=Memory" attribute="NonHeapMemoryUsage" key="committed"
           resultAlias="jvm.nonHeapMemoryUsage.committed"/>
    <query objectName="java.lang:type=ClassLoading" attribute="LoadedClassCount" resultAlias="jvm.loadedClasses"/>
    <query objectName="java.lang:type=Threading" attribute="ThreadCount" resultAlias="jvm.thread"/>
    <query objectName="java.lang:type=GarbageCollector,name=*" attribute="CollectionCount" 
           resultAlias="jvm.GcCollectionCount"/>
    <query objectName="java.lang:type=GarbageCollector,name=*" attribute="CollectionTime" 
           resultAlias="jvm.GcCollectionTime"/>
  </queries>

  <outputWriter class="org.jmxtrans.agent.StatsDOutputWriter">
    <host>${graphite.host}</host>
    <port>${graphite.port}</port>
    <metricName>${graphite.prefix}</metricName>
  </outputWriter>
  <outputWriter class="org.jmxtrans.agent.ConsoleOutputWriter">
    <enabled>false</enabled>
  </outputWriter>
  <collectIntervalInSeconds>15</collectIntervalInSeconds>
</jmxtrans-agent>
